<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Custom styles for this template -->
    <link href="css/grayscale.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Nunito" />
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Indie Flower" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/rita/1.3.11/rita-full.js"></script>
    <script src ="https://cdnjs.cloudflare.com/ajax/libs/textillate/0.4.0/jquery.textillate.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lettering.js/0.7.0/jquery.lettering.js"></script>
    <script src="https://rawcdn.githack.com/LifeIsADeflatingVest/sshonets/1c8a770402c6d852781f286fbcff5d7e4c96180a/scrSon.js"></script>
  </head>
<body>
<style>
.topDiv {
  width:100%;
  background-color:black;
  color:white;
  margin:auto;
  padding: 20px;
  font-family: Indie Flower, Verdana, Arial;
  text-align:center;
}
.theP {
  font-size:1.8em;
}
.button {
  background-color: #008CBA;
  margin-top:10px;
  opacity: 0;
  border: none;
  color: white;
  padding: 15px 32px;
  text-align: center;
  text-decoration: none;
  font-family: Nunito;
  display: inline-block;
  font-size: 1.2em;
  border-radius: 5px;
}
.button:hover {
background-color: #015875;
font-weight:700;
}
.button1 {
  -webkit-animation-name: example; /* Safari 4.0 - 8.0 */
  -webkit-animation-duration: 3s; /* Safari 4.0 - 8.0 */
  -webkit-animation-fill-mode: forwards;
  animation-name: example;
  animation-fill-mode: forwards;
  animation-duration: 3s;
}
/* Safari 4.0 - 8.0 */
@-webkit-keyframes example {
  100% {opacity:1}
}

/* Standard syntax */
@keyframes example {
  100% {opacity:1}
}
</style>
<div class="topDiv">
<p class="theP">
<span class="demo1" data-in-effect="fadeIn" data-out-effect="fadeOut" id ="theText1"></span>
<br>
<span class="demo2" data-in-effect="fadeIn" data-out-effect="fadeOut" id ="theText2"><br></span>
</p>
<button id="button" class="button" onclick="window.location.reload();">Generate New</button>
</div>
<script>
var elem = document.getElementById("button");
var line1;
var line2;
rhymer1();
function rhymer1() {
	line1 = generatorS();
	rhymer2();
}
function rhymer2() {
	const end = Date.now() + 1500; //1.5 sec checking time
	line2 = generatorS();
	if (RiTa.isRhyme(line1, line2)){
		line2 = line2.replace(/,\s*$/, "");
		$('#theText1').text(line1);
		$('.demo1').textillate().on('inAnimationEnd.tlt', function () {
			$('#theText2').text(line2);
			$('.demo2').textillate().on('inAnimationEnd.tlt', function () {
				elem.classList.add('button1');
			});
		});
	}
	else {
		if(Date.now() > end){
			rhymer1();
		}
		else {
			rhymer2();
		}
	}
}
</script>
  </body>
</html>
